<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=icon href=/fav.png type=image/png><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora&family=Muli:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto&family=Muli:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora&family=Muli:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto&family=Muli:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora&family=Muli:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto&family=Muli:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><meta property="og:title" content="Creating an add-in for Xamarin Studio"><meta property="og:description" content="All good IDE&rsquo;s come with a framework for extending them, and Xamarin Studio is no different. It is built on top of MonoDevelop which makes extensive use of add-ins to provide a lot of it&rsquo;s features, and it&rsquo;s really easy to add your own.
Recently I created my own add-in to help out when building MvvmCross projects. If you wanted to do a &lsquo;File -> New Solution&rsquo; in Xamarin Studio and create a simple, working MvvmCross cross platform app targeting iOS and Android you had to do a few things to make it work - you had to create the solution, ensure you have a PCL core project, an iOS app and an Android app, manually add the nuget packages for MvvmCross and either write the code yourself, or install the MvvmCross starter pack nuget package."><meta property="og:type" content="article"><meta property="og:url" content="https://jimbobbennett.dev/blogs/creating-an-add-in-for-xamarin-studio/"><meta property="og:image" content="https://jimbobbennett.dev/blogs/creating-an-add-in-for-xamarin-studio/banner.png"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2016-07-01T23:56:53+00:00"><meta property="article:modified_time" content="2016-07-01T23:56:53+00:00"><meta property="og:site_name" content="JimBobBennett"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jimbobbennett.dev/blogs/creating-an-add-in-for-xamarin-studio/banner.png"><meta name=twitter:title content="Creating an add-in for Xamarin Studio"><meta name=twitter:description content="All good IDE&rsquo;s come with a framework for extending them, and Xamarin Studio is no different. It is built on top of MonoDevelop which makes extensive use of add-ins to provide a lot of it&rsquo;s features, and it&rsquo;s really easy to add your own.
Recently I created my own add-in to help out when building MvvmCross projects. If you wanted to do a &lsquo;File -> New Solution&rsquo; in Xamarin Studio and create a simple, working MvvmCross cross platform app targeting iOS and Android you had to do a few things to make it work - you had to create the solution, ensure you have a PCL core project, an iOS app and an Android app, manually add the nuget packages for MvvmCross and either write the code yourself, or install the MvvmCross starter pack nuget package."><meta name=twitter:site content="@jimbobbennett"><meta name=twitter:creator content="@jimbobbennett"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><link rel="shortcut icon" type=image/png href=/fav.png><link rel="shortcut icon" sizes=192x192 href=/fav.png><link rel=apple-touch-icon href=/fav.png><link rel=alternate type=application/rss+xml href=https://jimbobbennett.dev/index.xml title=JimBobBennett><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","dctc2ydykv")</script><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--background-color:#000;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#e4e6eb;--text-secondary-color-dark:#b0b3b8;--background-color-dark:#000000;--secondary-background-color-dark:#212529;--primary-color-dark:#ffffff;--secondary-color-dark:#212529}body{background-color:#000;font-size:1rem;font-weight:400;line-height:1.5;text-align:left}</style><meta name=description content><link rel=stylesheet href=/css/index.css><link rel=stylesheet href=/css/single.css><link rel=stylesheet href=/css/projects.css media=all><script defer src=/fontawesome-5/all-5.15.4.js></script><title>Creating an add-in for Xamarin Studio | JimBobBennett</title></head><body class=light onload=loading()><header><nav class="pt-3 navbar navbar-expand-lg"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/><img src=/fav.png width=30 height=30 class="d-inline-block align-top">
JimBobBennett
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text"><a class=nav-link href=/ aria-label=home>Home</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#about aria-label=about>About</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#projects aria-label=projects>Recent Highlights</a></li><li class="nav-item navbar-text"><a class=nav-link href=/blogs title="Blog posts">Blog</a></li><li class="nav-item navbar-text"><a class=nav-link href=/videos title=Videos>Videos</a></li><li class="nav-item navbar-text"><a class=nav-link href=/livestreams title=Livestreams>Livestreams</a></li><li class="nav-item navbar-text"><a class=nav-link href=/conferences title=Conferences>Conferences</a></li><li class="nav-item navbar-text"><a class=nav-link href=/resume title=Resume>Resume</a></li></ul></div></div></nav></header><div id=content><section id=projects><div class="container pt-5" id=list-page><div class="row justify-content-center px-3 px-md-5"><h1 class="text-left pb-2 content">Creating an add-in for Xamarin Studio</h1><div class="text-left content"><a href=https://linkedin.com/in/jimbobbennett>Jim Bennett
</a><small>|</small>
Jul 1, 2016</div></div></div></section><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><article class="page-content p-2"><p>All good IDE&rsquo;s come with a framework for extending them, and Xamarin Studio is no different. It is built on top of MonoDevelop which makes extensive use of add-ins to provide a lot of it&rsquo;s features, and it&rsquo;s really easy to add your own.</p><p>Recently I created my own add-in to help out when building <a href=https://mvvmcross.com>MvvmCross</a> projects. If you wanted to do a &lsquo;File -> New Solution&rsquo; in Xamarin Studio and create a simple, working MvvmCross cross platform app targeting iOS and Android you had to do a few things to make it work - you had to create the solution, ensure you have a PCL core project, an iOS app and an Android app, manually add the nuget packages for MvvmCross and either write the code yourself, or install the MvvmCross starter pack nuget package. This starter was helpful, it contained sample code and instructions showing what you needed to change in the code files that were already created in your apps. As great as this is though, I thought it might be better if you could do a &lsquo;File -> New Solution&rsquo; and from the New Project dialog choose to create a fully working MvvmCross iOS and Android sample app to save a couple of minutes. <span style=color:blue>#FirstWorldProblems</span>.</p><p>Lets now walk through just how I did it and see how easy it was to create my add-in. I&rsquo;ll be referring to my add-in in the examples, and you can find the code <a href=https://github.com/jimbobbennett/MVVMCross.XSAddIn>on my github</a>.</p><p>You can use Xamarin Studio to write add-ins, but first you need to install an add-in! Select &lsquo;Xamarin Studio -> Add Ins&mldr;&rsquo; and add the &lsquo;Add-in Maker&rsquo; add-in.</p><div class=image-div style=width:500px><p><img src=Screen-Shot-2016-07-02-at-10-58-20-1.png alt="Adding the add-in maker add-in"></p></div><p>Once this is added I&rsquo;d recommend restarting Xamarin Studio. If you don&rsquo;t restart after adding add-ins they don&rsquo;t always work correctly - new project types can be missing or in the wrong place.</p><p>To create your add-in do &lsquo;File -> New Solution&rsquo; and select &lsquo;Xamarin Studio AddIn&rsquo; from the &lsquo;Other -> Miscellaneous&rsquo; section.</p><div class=image-div style=width:500px><p><img src=Screen-Shot-2016-07-02-at-11-08-54.png alt="Xamarin Studio AddIn in the New Project dialog"></p></div><p>When you create the add-in project you get a few things set up for you. Firstly you get a package reference to <code>MonoDevelop.AddIns</code> which is the NuGet package that provides a lot of the features you need. Secondly you get a couple of extra files in the <code>Properties</code> folder:</p><ul><li><code>AddInInfo.cs</code> - This file allows you to provide information about your add-in such as the name, category (so where it appears in the Add-In manager), description, author, version etc.</li><li><code>Manifest.addin.xml</code> - This manifest file defines what your add-in actually does. It lists any files or resources that are shipped inside the add-in, and defines what features are available.</li></ul><p>My MvvmCross add-in provides a new solution type containing 3 projects. Adding a new solution type is actually pretty easy - you create an xml file that defines what projects go into the solution, with each project defined inside that xml file, and the files inside the project are provided by you as raw files that get copied in.</p><p>So if you look inside the <code>Templates</code> folder in the add-in project you will see 3 folders and an xml file. The <code>MvvmCross.Solution.xpt.xml</code> file is the one that defines the projects. If you open this file and browse the contents you will see the following sections:</p><ul><li><code>TemplateConfiguration</code> - This section defines the configuration for this solution template, such as it&rsquo;s name, description, icon, programming language and where in the New Project dialog it should be.</li><li><code>Combine</code> - This section is the actual &lsquo;instructions&rsquo; to to create the solution. This section has 3 <code>Project</code> nodes in it, and these represent the actual projects that will be created in the solution. In the project node we define the project name, type, directory that it lives in. In the sub-nodes we define the options that are set on the project, as well as contents of the project such as references and the files to include. These files that are included point to an actual file inside the project - and it&rsquo;s this that makes it easy to create such an add-in. What you do is create all the files yourself, so create a project that matches the output of your add-in and add these files to your add-in project without a build action but copied to output. When your add-in runs it will build the project based on the instructions given, copying the files you&rsquo;ve added to the new project.</li></ul><p>One thing to note is the variables that are used such as <code>${ProjectName}</code>. There are a few of these. and these are replaced with appropriate values when your add-in is run. For example <code>${ProjectName}</code> is replaced with the name you put into the &lsquo;Project Name&rsquo; in the &lsquo;New Project&rsquo; dialog. As well as putting these inside the xml file you also need to use these in the source files that are shipped with the add-in. You also have to be aware that these variables can change based on the scope - so for example is you created a new solution using the add-in called &lsquo;Foo&rsquo;, when building the solution <code>${ProjectName}</code> would be &lsquo;Foo&rsquo;, but if the solution creates a project call &lsquo;Foo.Core&rsquo;, inside any code files for that project <code>${ProjectName}</code> would actually be &lsquo;Foo.Core&rsquo;, and to get &lsquo;Foo&rsquo; you have to use <code>${SolutionName}</code>.</p><p>Have a look at the code in the MvvmCross add-in and you&rsquo;ll see this in action. It&rsquo;s actually pretty self-explanatory once you start reading a real example, which is one of the great things about the Xamarin Studio add-ins.</p><p>Once you have built your add-in, you can run it and it will launch a new instance of Xamarin Studio with your add-in installed for you to test out. If you want to ship the add-in to other people to try out you need to package it using mdtool, which is buried inside the Xamarin Studio application package:</p><pre tabindex=0><code>/Applications/Xamarin\ Studio.app/Contents/MacOS/mdtool setup pack SomeAddin.dll
</code></pre><p>This will spit out an mpack file - a mono package that contains the add-in. You can send this file out and users can add it from the &lsquo;AddIn Manager&rsquo; using the &lsquo;Install from file&mldr;&rsquo; option.</p><p>The last file to note is `addin-project.xml&rsquo;. You need to create one of these if you are want to ship the add-in to the gallery at <a href=http://addins.monodevelop.com>http://addins.monodevelop.com</a>. When you ship an add-in it will grab code from your repo and compile it up, and this xml file is used to tell their compiler what to do.</p><p>Easy, and awesome!</p><p>Now go off and write an add-in, and ping me here or on twitter if you have any questions.</p><hr><p>This blog post would be complete without a shoutout to <a href=https://twitter.com/mjhutchinson>Mikayla Hutchinson</a> and <a href=https://twitter.com/slluis>Lluis Sanchez Gual</a> from Xamarin for being awesome and helping me get my add-in working and up on the add-ins gallery. You rock!</p></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/xamarin target=_blank>xamarin</a></li><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/xamarin-studio target=_blank>xamarin studio</a></li><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/addin target=_blank>addin</a></li><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/technology target=_blank>Technology</a></li></ul></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://jimbobbennett.dev/blogs/creating-an-add-in-for-xamarin-studio/",this.page.identifier="562ed4412118e9172afea3b4c2257007"};(function(){if(window.location.hostname=="localhost")return;var e=document,t=e.createElement("script");t.src="https://jimbobbennett.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script></div><footer><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center">&copy; 2023 All Rights Reserved</div></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js integrity=sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 crossorigin=anonymous></script><script>document.body.className.includes("light")&&(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))</script><script>let loadingIcons;function loading(){myVar=setTimeout(showPage,100)}function showPage(){try{document.getElementById("loading-icons").style.display="block"}catch{}}</script><script>function createCopyButton(e,t){const n=document.createElement("button");n.className="copy-code-button",n.type="button",n.innerText="Copy",n.addEventListener("click",()=>copyCodeToClipboard(n,e,t)),addCopyButtonToDom(n,e)}async function copyCodeToClipboard(e,t,n){const s=t.querySelector("pre > code").innerText;try{n.writeText(s)}finally{codeWasCopied(e)}}function codeWasCopied(e){e.blur(),e.innerText="Copied!",setTimeout(function(){e.innerText="Copy"},2e3)}function addCopyButtonToDom(e,t){t.insertBefore(e,t.firstChild);const n=document.createElement("div");n.className="highlight-wrapper",t.parentNode.insertBefore(n,t),n.appendChild(t)}if(navigator&&navigator.clipboard)document.querySelectorAll(".highlight").forEach(e=>createCopyButton(e,navigator.clipboard));else{var script=document.createElement("script");script.src="https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js",script.integrity="sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=",script.crossOrigin="anonymous",script.onload=function(){addCopyButtons(clipboard)},document.querySelectorAll(".highlight").forEach(e=>createCopyButton(e,script)),document.body.appendChild(script)}</script></body></html>