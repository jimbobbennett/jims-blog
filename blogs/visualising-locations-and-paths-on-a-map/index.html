<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=icon href=/fav.png type=image/png><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora&family=Muli:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto&family=Muli:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora&family=Muli:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto&family=Muli:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora&family=Muli:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto&family=Muli:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><meta property="og:title" content="Visualizing locations and paths on a map with Azure Maps"><meta property="og:description" content="Learn how to show an Azure Maps control on a web page, and add pins and paths to the map"><meta property="og:type" content="article"><meta property="og:url" content="https://jimbobbennett.dev/blogs/visualising-locations-and-paths-on-a-map/"><meta property="og:image" content="https://jimbobbennett.dev/blogs/visualising-locations-and-paths-on-a-map/banner.png"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2019-09-23T21:06:50+00:00"><meta property="article:modified_time" content="2019-09-23T21:06:50+00:00"><meta property="og:site_name" content="JimBobBennett"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jimbobbennett.dev/blogs/visualising-locations-and-paths-on-a-map/banner.png"><meta name=twitter:title content="Visualizing locations and paths on a map with Azure Maps"><meta name=twitter:description content="Learn how to show an Azure Maps control on a web page, and add pins and paths to the map"><meta name=twitter:site content="@jimbobbennett"><meta name=twitter:creator content="@jimbobbennett"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><link rel="shortcut icon" type=image/png href=/fav.png><link rel="shortcut icon" sizes=192x192 href=/fav.png><link rel=apple-touch-icon href=/fav.png><link rel=alternate type=application/rss+xml href=https://jimbobbennett.dev/index.xml title=JimBobBennett><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","dctc2ydykv")</script><script data-goatcounter=https://jimbobbennett.goatcounter.com/count async src=//gc.zgo.at/count.js></script><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--background-color:#000;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#e4e6eb;--text-secondary-color-dark:#b0b3b8;--background-color-dark:#000000;--secondary-background-color-dark:#212529;--primary-color-dark:#ffffff;--secondary-color-dark:#212529}body{background-color:#000;font-size:1rem;font-weight:400;line-height:1.5;text-align:left}</style><meta name=description content><link rel=stylesheet href=/css/index.css><link rel=stylesheet href=/css/single.css><link rel=stylesheet href=/css/projects.css media=all><script defer src=/fontawesome-5/all-5.15.4.js></script><title>Visualizing locations and paths on a map with Azure Maps | JimBobBennett</title></head><body class=light onload=loading()><header><nav class="pt-3 navbar navbar-expand-lg"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/><img src=/fav.png width=30 height=30 class="d-inline-block align-top">
JimBobBennett
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text"><a class=nav-link href=/ aria-label=home>Home</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#about aria-label=about>About</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#projects aria-label=projects>Recent Highlights</a></li><li class="nav-item navbar-text"><a class=nav-link href=/blogs title="Blog posts">Blog</a></li><li class="nav-item navbar-text"><a class=nav-link href=/videos title=Videos>Videos</a></li><li class="nav-item navbar-text"><a class=nav-link href=/livestreams title=Livestreams>Livestreams</a></li><li class="nav-item navbar-text"><a class=nav-link href=/conferences title=Conferences>Conferences</a></li><li class="nav-item navbar-text"><a class=nav-link href=/resume title=Resume>Resume</a></li></ul></div></div></nav></header><div id=content><section id=projects><div class="container pt-5" id=list-page><div class="row justify-content-center px-3 px-md-5"><h1 class="text-left pb-2 content">Visualizing locations and paths on a map with Azure Maps</h1><div class="text-left content"><a href=https://linkedin.com/in/jimbobbennett>Jim Bennett
</a><small>|</small>
Sep 23, 2019</div></div></div></section><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><article class="page-content p-2"><p>Azure Maps is a great way to add geospatial capabilities to your apps, from showing a map on a web page, to checking geofences, to routing and traffic data. You can read more about Azure Maps in the <a href="https://docs.microsoft.com/azure/azure-maps/?WT.mc_id=azuremaps-blog-jabenn">official documentation</a>.</p><p>This post covers:</p><ul><li>Showing an Azure Maps control on a web page</li><li>Adding pins to the map to show locations</li><li>Adding a path to the map</li></ul><figure><img src=2019-09-20_16-46-39.png></figure><h2 id=getting-started>Getting started</h2><ul><li>Start by signing up for Azure if you don&rsquo;t have an account:If you are a student, sign up at <a href="https://azure.microsoft.com/free/students/?WT.mc_id=azuremaps-blog-jabenn">azure.microsoft.com/free/students</a> to get US$100 of free credit and free services for a year.Otherwise sign up at <a href="https://azure.microsoft.com/free/?WT.mc_id=azuremaps-blog-jabenn">azure.microsoft.com/free</a> to get US$200 of credit for 30 days and a year of free services.</li><li>Sign into Azure and create an Azure Maps resource by following <a href="https://ms.portal.azure.com/?WT.mc_id=azuremaps-blog-jabenn%2F#create/Microsoft.Maps">this link</a>.</li></ul><figure><img src=2019-09-06_16-51-33-2.png></figure><p>Once you have your Maps resource created, head to the <strong>Shared Key Authentication</strong> section of the _<em>Settings -> Authentication</em> _ tab in the map blade in the Azure portal and take a copy of your <strong>Primary Key</strong>.</p><figure><img src=2019-09-09_16-13-17-1.png></figure><h2 id=showing-the-azure-maps-control-in-a-web-page>Showing the Azure Maps control in a web page</h2><p>Create a web site using your favorite tooling - I personally have been using <a href=https://flask.palletsprojects.com/>Flask</a> as I&rsquo;m getting into Python. Create an HTML page. To the <code>&lt;head></code> section add the following to add support for the Azure Maps control:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css&#34;</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text/css&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span></code></pre></div><p>In the <code>&lt;body></code>, add a <code>div</code> with an id of <code>myMap</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;myMap&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span></code></pre></div><p>Follow this with a <code>script</code> tag that creates the Azure Maps control and assigns it to this div:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text/javascript&#34;</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>map</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>Map</span>(<span style=color:#e6db74>&#39;myMap&#39;</span>, {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>language</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;en-US&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>authOptions</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>authType</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;subscriptionKey&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>subscriptionKey</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;{subscription-key}&#39;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span></code></pre></div><p>You will need to replace <code>{subscription-key}</code> with your primary key that you captured from from the Azure Maps resource blade.</p><p>If you view this page you will see the map control over the top part of the page. To size it, you can style the map to be the size of the whole page by adding a style to the <code>head</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>style</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#f92672>html</span><span style=color:#f92672>,</span> <span style=color:#f92672>body</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  #myMap {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>vh</span>; 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>vw</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>style</span>&gt;
</span></span></code></pre></div><p>This will give a nice, full size map showing the whole world.</p><figure><img src=2019-09-23_12-33-40.png></figure><p>You can read more about getting started with the Map control in the <a href="https://docs.microsoft.com/azure/azure-maps/how-to-use-map-control/?WT.mc_id=azuremaps-blog-jabenn">Getting started docs</a>.</p><h2 id=zooming-into-a-certain-area>Zooming into a certain area</h2><p>You can set the area that the map shows by setting the camera using a set of bounds and some padding - essentially giving the coordinates that must be included in the visible map and how much space you want around them. The map control works out the actual position and zoom to ensure the bounds and padding are visible, with extra map showing to ensure it fits on the page.</p><p>First your page will need to wait till the map control is ready before it can call any methods. You can do this using the <code>ready</code> event:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>events</span>.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#39;ready&#39;</span>, <span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// add code to be run when the map is ready here
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>Inside this handler, you can set the camera using the <code>setCamera</code> method:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>setCamera</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bounds</span><span style=color:#f92672>:</span> [{<span style=color:#a6e22e>min_long</span>}, {<span style=color:#a6e22e>min_lat</span>}, {<span style=color:#a6e22e>max_long</span>}, {<span style=color:#a6e22e>max_lat</span>}],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>padding</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>Set <code>min_long</code> and <code>min_lat</code> to be one corner of the bounding box that you want to ensure is visible using longitude and latitude coordinates. <code>max_long</code> and <code>max_lat</code> are the opposite corner. Set <code>padding</code> to the minimum number of pixels to have around the edge of the bounds.</p><p>For example, this code shows the area around Seattle:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>events</span>.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#39;ready&#39;</span>, <span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>setCamera</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bounds</span><span style=color:#f92672>:</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>123</span>, <span style=color:#ae81ff>47</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>122</span>, <span style=color:#ae81ff>48</span>],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>padding</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><figure><img src=2019-09-23_12-48-30.png></figure><p>You can read more about this method in the <a href="https://docs.microsoft.com/javascript/api/azure-maps-control/atlas.map?WT.mc_id=azuremaps-blog-jabenn&amp;view=azure-maps-typescript-latest#setcamera-cameraoptions---cameraboundsoptions---animationoptions-">Map class docs</a>.</p><h2 id=adding-pins-for-a-location>Adding pins for a location</h2><p>Maps can have added layers such as pins and paths, with each layer showing coordinate data. This data is put into a <code>DataSource</code>, which gets added to the map, then a layer is applied to this data source.</p><p>To show pins on a map, the coordinates for the pins are added as a map feature to the data source, and a <code>SymbolLayer</code> is added referencing this data source. The map will show a pin for each point in the data source.</p><p>First, create the data source in the maps <code>ready</code> event handler:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dataSource</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>source</span>.<span style=color:#a6e22e>DataSource</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>sources</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>dataSource</span>);
</span></span></code></pre></div><p>Then create a data feature to wrap a point and add it to the data source. Features can include single points, polygons or lines, in this case it is a single point.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>dataSource</span>.<span style=color:#a6e22e>add</span>(
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>Feature</span>(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>Point</span>([{<span style=color:#a6e22e>longitude</span>}, {<span style=color:#a6e22e>latitude</span>}])));
</span></span></code></pre></div><p>In this code, <code>{longitude}</code> needs to be set to the longitude of the point, and <code>{latitude}</code> set to the latitude. Finally a symbol layer is added to show the pins, and this symbol layer wraps the data source:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>layers</span>.<span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>layer</span>.<span style=color:#a6e22e>SymbolLayer</span>(<span style=color:#a6e22e>dataSource</span>, <span style=color:#66d9ef>null</span>));
</span></span></code></pre></div><figure><img src=2019-09-23_13-39-19.png></figure><p>There&rsquo;s loads more you can do with these symbol layers, including customizing the symbols using images. You can read more and try some of these out in the <a href="https://docs.microsoft.com/azure/azure-maps/map-add-pin/?WT.mc_id=azuremaps-blog-jabenn">Azure Maps Symbol Layer docs</a>.</p><h2 id=showing-a-path-on-the-map>Showing a path on the map</h2><p>As well as points, maps can also show a line layer. This is a series of points in a connected line, connected in the order the points are declared. This can be used to show a journey for example, tracking the route taken over time. You start with a data source, but this time with a flag set to show it contains line information:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>line_datasource</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>source</span>.<span style=color:#a6e22e>DataSource</span>(<span style=color:#66d9ef>null</span>, {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lineMetrics</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span><span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>sources</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>line_datasource</span>);
</span></span></code></pre></div><p>Next, a <code>LineString</code> feature is added to the data source:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>line_datasource</span>.<span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>Feature</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>LineString</span>([
</span></span><span style=display:flex><span>  [{<span style=color:#a6e22e>point1_longitude</span>}, {<span style=color:#a6e22e>point1_latitude</span>}],
</span></span><span style=display:flex><span>  [{<span style=color:#a6e22e>point2_longitude</span>}, {<span style=color:#a6e22e>point2_latitude</span>}],
</span></span><span style=display:flex><span>])));
</span></span></code></pre></div><p>Each point is added to the array passed into the <code>LineString</code>, in the order that you want the points to be connected. Finally a line layer is added to the map:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>layers</span>.<span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>layer</span>.<span style=color:#a6e22e>LineLayer</span>(<span style=color:#a6e22e>line_datasource</span>, <span style=color:#66d9ef>null</span>));
</span></span></code></pre></div><figure><img src=2019-09-23_13-57-47.png></figure><p>You can add multiple data sources to the map, and use them for multiple layers. For example you can have a data source for a line, and another for a point at the end of the line.</p><figure><img src=2019-09-23_13-58-54.png></figure><p>You can customize the line, such as the stroke size or color, including having color gradients to indicate the start and end of the line, by passing options when creating the layer. For example, to have a blue to red gradient, with red showing the end of the line (the last coordinate in the array passed to the data source), use the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>map</span>.<span style=color:#a6e22e>layers</span>.<span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>atlas</span>.<span style=color:#a6e22e>layer</span>.<span style=color:#a6e22e>LineLayer</span>(<span style=color:#a6e22e>line_datasource</span>, <span style=color:#66d9ef>null</span>, {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWidth</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>6</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeGradient</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;interpolate&#39;</span>,
</span></span><span style=display:flex><span>    [<span style=color:#e6db74>&#39;linear&#39;</span>],
</span></span><span style=display:flex><span>    [<span style=color:#e6db74>&#39;line-progress&#39;</span>],
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#34;blue&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;red&#34;</span>
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}));
</span></span></code></pre></div><figure><img src=2019-09-23_14-02-22.png></figure><h2 id=summary>Summary</h2><p>In this post we learned how to add an Azure Maps control to a web page, position the camera, add pins and add lines. Head to the <a href="https://docs.microsoft.com/azure/azure-maps/?WT.mc_id=azuremaps-blog-jabenn">official documentation</a> to learn more about the capabilities of Azure Maps.</p></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents><ul><li><a href=#getting-started>Getting started</a></li><li><a href=#showing-the-azure-maps-control-in-a-web-page>Showing the Azure Maps control in a web page</a></li><li><a href=#zooming-into-a-certain-area>Zooming into a certain area</a></li><li><a href=#adding-pins-for-a-location>Adding pins for a location</a></li><li><a href=#showing-a-path-on-the-map>Showing a path on the map</a></li><li><a href=#summary>Summary</a></li></ul></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/technology target=_blank>technology</a></li><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/azure target=_blank>azure</a></li><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/maps target=_blank>Maps</a></li><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/javascript target=_blank>javascript</a></li><li class=list-inline-item><a href=https://jimbobbennett.dev/tags/python target=_blank>Python</a></li></ul></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://jimbobbennett.dev/blogs/visualising-locations-and-paths-on-a-map/",this.page.identifier="483212397565703de43ace55de77df97"};(function(){if(window.location.hostname=="localhost")return;var e=document,t=e.createElement("script");t.src="https://jimbobbennett.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script></div><footer><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center">&copy; 2023 All Rights Reserved</div></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js integrity=sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 crossorigin=anonymous></script><script>document.body.className.includes("light")&&(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))</script><script>let loadingIcons;function loading(){myVar=setTimeout(showPage,100)}function showPage(){try{document.getElementById("loading-icons").style.display="block"}catch{}}</script><script>function createCopyButton(e,t){const n=document.createElement("button");n.className="copy-code-button",n.type="button",n.innerText="Copy",n.addEventListener("click",()=>copyCodeToClipboard(n,e,t)),addCopyButtonToDom(n,e)}async function copyCodeToClipboard(e,t,n){const s=t.querySelector("pre > code").innerText;try{n.writeText(s)}finally{codeWasCopied(e)}}function codeWasCopied(e){e.blur(),e.innerText="Copied!",setTimeout(function(){e.innerText="Copy"},2e3)}function addCopyButtonToDom(e,t){t.insertBefore(e,t.firstChild);const n=document.createElement("div");n.className="highlight-wrapper",t.parentNode.insertBefore(n,t),n.appendChild(t)}if(navigator&&navigator.clipboard)document.querySelectorAll(".highlight").forEach(e=>createCopyButton(e,navigator.clipboard));else{var script=document.createElement("script");script.src="https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js",script.integrity="sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=",script.crossOrigin="anonymous",script.onload=function(){addCopyButtons(clipboard)},document.querySelectorAll(".highlight").forEach(e=>createCopyButton(e,script)),document.body.appendChild(script)}</script></body></html>